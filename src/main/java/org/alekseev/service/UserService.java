package org.alekseev.service;

import org.alekseev.entity.User;

import java.util.List;
import java.util.Optional;

/**
 * Мы вводим интерфейс сервиса как "публичный контракт" бизнес-логики.
 * Это нужно, чтобы UI и тесты зависели от абстракции, а не от конкретной реализации.
 */
public interface UserService {

    /**
     * Мы создаём пользователя из простых входных данных и возвращаем id, созданный в БД.
     * Это даёт эффект: UI не обязан создавать объект User и думать о деталях сохранения в БД.
     */
    Long create(String name, String email, Integer age);

    /**
     * Мы читаем пользователя по id и возвращаем Optional, потому что записи может не быть.
     * Это даёт эффект: отсутствие пользователя не считается "ошибкой системы", а считается нормальным результатом.
     */
    Optional<User> findById(Long id);

    /**
     * Мы читаем список всех пользователей и возвращаем обычный List.
     * Это даёт эффект: UI может вывести список, а тесты могут проверить размер и содержимое.
     */
    List<User> findAll();

    /**
     * Мы обновляем пользователя по id, не требуя передавать целый объект User.
     * Это даёт эффект: сервис сам решит, какие проверки делать, и когда обращаться к DAO.
     */
    void updateById(Long id, String newName, String newEmail, Integer newAge);

    /**
     * Мы удаляем пользователя по id и явно сообщаем об отсутствии через NotFoundException.
     * Это даёт эффект: UI и тесты точно понимают, был ли пользователь удалён или его не существовало.
     */
    void deleteById(Long id);
}